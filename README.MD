# â³ ë¯¸íƒ€ì„ (Me-Time) - ì˜¤ë¡¯ì´ ë‚˜ë¥¼ ì•Œì•„ê°€ëŠ” ì‹œê°„

<br />

<div align="center">
  <img width=180" src="https://github.com/user-attachments/assets/2d1ee65b-9249-4873-a2b9-f1b9e96a6abf" />
  <br /><br />
  <img src="https://img.shields.io/badge/Swift-v5.1-F05138?logo=swift" />
  <img src="https://img.shields.io/badge/Xcode-v15.4-147EFB?logo=Xcode" />
  <img src="https://img.shields.io/badge/iOS-16.0+-000000?logo=apple" />  
  <br /><br />
   <a href="https://apps.apple.com/kr/app/me-time-%EB%AF%B8-%ED%83%80%EC%9E%84/id6711330732" target="_blank">
      <img width="120" alt="appstore" src="https://user-images.githubusercontent.com/55099365/196023806-5eb7be0f-c7cf-4661-bb39-35a15146c33a.png">
  </a>
</div>

<br />

## ê¸°íšì˜ë„ (Intention)
> ### â€œ ğ‘´ğ’† ğ‘»ğ’Šğ’ğ’† â€
> ### ë‚˜ í˜¼ìë§Œì˜ ì‹œê°„, ë‚˜ë¥¼ ìœ„í•œ íœ´ì‹ ì‹œê°„, ë‚˜ë¥¼ ì¶©ì „í•˜ëŠ” ì‹œê°„

- í•˜ë£¨ 24ì‹œê°„ ì¤‘ ìš°ë¦¬ëŠ” ì–¼ë§Œí¼ì˜ ì‹œê°„ì„ 'ë‚˜ ìì‹ 'ì„ ìœ„í•´ ì‚¬ìš©í• ê¹Œìš”?
- ë°”ìœ ì¼ìƒì— ì¹˜ì´ë©° ê·¸ ì†ì—ì„œ ì‘ì€ í–‰ë³µì„ ì°¾ëŠ” ê²ƒë„ ë³´ëŒìˆì§€ë§Œ, 'ë‚˜ë¥¼ ì˜ ì•„ëŠ” ì‚¬ëŒ'ì´ ë˜ëŠ” ê²ƒì´ ë¬´ì—‡ë³´ë‹¤ ì¤‘ìš”í•œ ê±° ê°™ìŠµë‹ˆë‹¤.
- ë¯¸íƒ€ì„ì€ í•˜ë£¨ í•œ ë²ˆ, ì˜¤ë¡¯ì´ ìê¸° ìì‹ ì— ì§‘ì¤‘í•˜ê³  ì•Œì•„ê°€ëŠ” ì‹œê°„ì„ ê°€ì§ˆ ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.
- ìì‹ ì˜ ìƒê°ê³¼ ê°ì •ì„ ì—¬ê³¼ì—†ì´ ì ì–´ë‚´ë©° ìŠ¤ìŠ¤ë¡œ ì–´ë–»ê²Œ ì‚´ì•„ê°€ê³  ìˆëŠ”ì§€ íƒêµ¬í•˜ê³  ë˜ëŒì•„ë³´ë©°, ì˜¤ë¡¯ì´ ìì‹ ì—ê²Œ ì§‘ì¤‘í•  ìˆ˜ ìˆëŠ” ì‹œê°„ì„ ì œê³µí•©ë‹ˆë‹¤.

<br />

## í”„ë¡œì íŠ¸ ì†Œê°œ (Description)
> **ê°œë°œ ê¸°ê°„** : 2024. 09. 12 ~ 2024. 10. 02 (ì•½ 3ì£¼)<br />
> **ê°œë°œ ì¸ì›** : 1ì¸ (ê¸°íš/ë””ìì¸/ê°œë°œ)<br />
> **ìµœì†Œ ë²„ì „** : iOS 16.0+<br />

<br /><br />

## ì‚¬ìš© ê¸°ìˆ  ë° ê°œë°œ í™˜ê²½  (Tech Stack & Environment)
- **iOS** : Swift 5.1, Xcode 15.4, SwiftUI, Charts, WebKit
- **Architecture** : MVVM
- **Reactive** : Combine
- **Network** : URLSession
- **Local DB** : Realm

<br />

## ì•„í‚¤í…ì³ (Architecture)

<br />

## ê°œë°œ ë°©ì‹ ë° ë¸Œëœì¹˜ ì „ëµ (Development & Branch Strategy)
### Issue, Pull Request(PR) í…œí”Œë¦¿ í™œìš©í•œ í”„ë¡œì íŠ¸ ê´€ë¦¬
- ê°œë°œ ì‹œì‘ ì „ ìƒˆë¡œìš´ Issue ìƒì„± í›„, Issueì™€ ë¸Œëœì¹˜ë¥¼ ì—°ê²°í•˜ê³  ì´ìŠˆ ë²ˆí˜¸ë¥¼ ë¸Œëœì¹˜ëª…ì— í™œìš©í•˜ì—¬ ì¼ê´€ëœ ì‘ì—… ë‚´ìš© ê¸°ë¡
- Issueì™€ PR ìƒì„± ì‹œ ë ˆì´ë¸”ì„ í‘œê¸°í•˜ì—¬ ì‘ì—… ì¢…ë¥˜ì™€ ì§„í–‰ì‚¬í•­ì„ í•œ ëˆˆì— ì•Œ ìˆ˜ ìˆë„ë¡ ì²˜ë¦¬
- PR ìƒì„± ì‹œ í…œí”Œë¦¿ì— ë§ê²Œ ì‘ì—… ë‚´ìš©ê³¼ ìŠ¤í¬ë¦°ìƒ·ì„ ìƒì„¸íˆ ê¸°ë¡í•˜ì—¬ ì¶”í›„ì—ë„ í”„ë¡œì íŠ¸ ì§„í–‰ í˜„í™©ì„ ì•Œ ìˆ˜ ìˆë„ë¡ ë¬¸ì„œí™”

### ê°„ì†Œí™”ëœ Git Flow ë„ì…
- **`main`**
  - ì‹¤ì œ ì„œë¹„ìŠ¤ ë°°í¬ìš© ë¸Œëœì¹˜
  - í° ê¸°ëŠ¥ ë‹¨ìœ„ ê°œë°œ ì‘ì—…ì´ ì™„ë£Œëœ í›„ ë³‘í•© (Version Realese)
- **`dev`**
  - ê°œë°œ ë° QA ì‘ì—…ìš© ë¸Œëœì¹˜ (Main ë¸Œëœì¹˜ì—ì„œ ë¶„ê¸°)
  - ê° ê¸°ëŠ¥ ë‹¨ìœ„ ë¸Œëœì¹˜ ì‘ì—…ì´ ì™„ë£Œëœ í›„ ë³‘í•©
- **`feat`** , **`design`**, **`fix`**, **`refactor`**...
  - ì‘ì€ ê¸°ëŠ¥ ë‹¨ìœ„ ë¸Œëœì¹˜ (dev ë¸Œëœì¹˜ì—ì„œ ë¶„ê¸°)
  - Issue, PR, Commit ì»¨ë²¤ì…˜ê³¼ ë™ì¼í•œ Prefix ì‚¬ìš©í•˜ì—¬ ì¼ê´€ëœ ì‘ì—… êµ¬ë¶„
- ê° ë¸Œëœì¹˜ë³„ ì‘ì—… ë‚´ìš© í™•ì¸ì„ ìœ„í•´ ë¸Œëœì¹˜ëª… ì»¨ë²¤ì…˜ ë„ì…
  - prefix/ì´ìŠˆë²ˆí˜¸-ì‘ì—…ì„¤ëª…
  - `design/1-home-ui`

```mermaid
---
title: Example of All-For-Lesson Git Flow
---
gitGraph
   commit id: "initial"
   branch dev order: 2
   commit id: "dev"
   branch feat order: 3
   commit id: "feat/1-some-feature"
   checkout dev
   merge feat
   branch design order: 4
   commit id: "design/2-some-ui"
   checkout dev
   merge design
   branch fix order: 5
   commit id: "fix/3-some-error"
   checkout dev
   merge fix
   checkout main
   merge dev tag: "Release: v1.0.0"
   branch hotfix order: 1
   commit id: "HOTFIX/4-something-change"
   checkout main
   merge hotfix tag: "Release: v1.0.1"
```

<details>
<summary><b>Prefix Convention ì „ì²´ë³´ê¸°</b></summary>
<div>

| Prefix  | Description | Prefix  | Description | 
|------------|-----------|------------|-----------|
| Feat | ìƒˆë¡œìš´ ê¸°ëŠ¥ì— ëŒ€í•œ ì»¤ë°‹ | Style | UI ìŠ¤íƒ€ì¼ì— ê´€í•œ ì»¤ë°‹ |
| Fix | ë²„ê·¸ ìˆ˜ì •ì— ëŒ€í•œ ì»¤ë°‹ | Refactor | ì½”ë“œ ë¦¬íŒ©í† ë§ì— ëŒ€í•œ ì»¤ë°‹ |
| Build | ë¹Œë“œ ê´€ë ¨ íŒŒì¼ ìˆ˜ì •ì— ëŒ€í•œ ì»¤ë°‹ | Test | í…ŒìŠ¤íŠ¸ ì½”ë“œ ìˆ˜ì •ì— ëŒ€í•œ ì»¤ë°‹ |
| Chore | ê·¸ ì™¸ ìì˜í•œ ìˆ˜ì •ì— ëŒ€í•œ ì»¤ë°‹ | Init | í”„ë¡œì íŠ¸ ì‹œì‘ì— ëŒ€í•œ ì»¤ë°‹ |
| Ci | CI ê´€ë ¨ ì„¤ì • ìˆ˜ì •ì— ëŒ€í•œ ì»¤ë°‹ | Release | ë¦´ë¦¬ì¦ˆì— ëŒ€í•œ ì»¤ë°‹ |
| Docs | ë¬¸ì„œ ìˆ˜ì •ì— ëŒ€í•œ ì»¤ë°‹ | WIP | ë¯¸ì™„ì„± ì‘ì—…ì— ëŒ€í•œ ì„ì‹œ ì»¤ë°‹ |           

</div>
</details>

<br />

## ì£¼ìš” ê¸°ëŠ¥ (Features)   
### ì˜¤ëŠ˜ì˜ ì²« ë²ˆì§¸ ê°ì •ê³¼ ëª¨ë‹í˜ì´í¼ë¥¼ ê¸°ë¡í•˜ê³  ì €ì¥í•˜ëŠ” ê¸°ëŠ¥
- Realm DBì™€ @ObservedResults
- Auto Refresh ê¸°ëŠ¥ìœ¼ë¡œ ë°ì´í„° ë³€ê²½ ì‹œ ëª¨ë‹í˜ì´í¼ ë¦¬ìŠ¤íŠ¸ ë° ìº˜ë¦°ë”, ì°¨íŠ¸ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜
- 

### Custom TabBar
- 

<br />

### 

<br />

## ë””ë ‰í† ë¦¬ êµ¬ì¡° (Directory Structure)

<br />

## íŠ¸ëŸ¬ë¸” ìŠˆíŒ…  (Trouble Shooting)
### 1. ë‹¨ì¼ ëª¨ë‹í˜ì´í¼ ë°ì´í„°ì— ëŒ“ê¸€ ì¶”ê°€ê°€ ì•ˆ ë˜ëŠ” ì˜¤ë¥˜
- **ì›ì¸** : ìƒìœ„ë·°ì—ì„œ @ObservedResultsë¡œ ê°€ì ¸ì˜¨ ì „ì²´ ëª¨ë‹í˜ì´í¼ ë¦¬ìŠ¤íŠ¸ì—ì„œ @ObservedRealmObjectë¥¼ í†µí•´ í•˜ìœ„ ë·°ë¡œ ë‹¨ì¼ ë°ì´í„°ë¥¼ ë³´ë‚´ì£¼ì—ˆì„ ë•Œ, í•´ë‹¹ ë‹¨ì¼ ë°ì´í„°ì— append ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒ“ê¸€ ì¶”ê°€ ì‹œ Realm ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜ì´ ì•ˆ ë˜ëŠ” ë¬¸ì œ
- **í•´ê²°** : @ObservedRealmObjectë¡œ ê°€ì§€ê³  ìˆë˜ ë‹¨ì¼ ë°ì´í„°ì˜ idê°’ì„ í†µí•´ realm


```swift
// Realm í…Œì´ë¸” êµ¬ì¡°

import Foundation
import RealmSwift

final class MorningPaper: Object, ObjectKeyIdentifiable {
    @Persisted(primaryKey: true) var id: ObjectId
    @Persisted(indexed: true) var title: String
    @Persisted var content: String
    @Persisted var createAt: Date
    @Persisted var emotion: String
    @Persisted var commentData: List<Comment>
    
    convenience init(title: String, content: String, emotion: String) {
        self.init()
        self.title = title
        self.content = content
        self.emotion = emotion
        self.createAt = Date()
    }
}

final class Comment: Object, ObjectKeyIdentifiable {
    @Persisted(primaryKey: true) var id: ObjectId
    @Persisted var content: String
    @Persisted var createAt: Date
    
    convenience init(content: String) {
        self.init()
        self.content = content
        self.createAt = Date()
    }
}
```

```swift
// ê¸°ì¡´
@ObservedRealmObject var detailData: MorningPaper
detailData.commentData.append(comment)

// ìˆ˜ì •
@ObservedRealmObject var detailData: MorningPaper

do {
   let realm = try Realm()
   let data = realm.object(ofType: MorningPaper.self, forPrimaryKey: detailData.id)

   guard let data = data else { ... }
   try realm.write {
      data.commentData.append(comment)
   }
} catch {
    ...
}
```

<br />

### 2. Custom TabBar ì‚¬ìš© ì‹œ í™”ë©´ë§ˆë‹¤ TabBar Hidden ì²˜ë¦¬ê°€ ì–´ë ¤ìš´ ë¬¸ì œ
- **ì›ì¸** : SwiftUIì—ì„œ TabBar Hidden ì²˜ë¦¬ ì‹œ `.toolbar(.hidden, for: .tabBar)`ë¥¼ í™œìš©í•  ìˆ˜ ìˆì§€ë§Œ, Custom TabBarë¥¼ êµ¬ì„±í•œ ê²½ìš° í•´ë‹¹ ì½”ë“œë¡œ TabBarì˜ Hidden ì²˜ë¦¬ë¥¼ í•¸ë“¤ë§í•  ìˆ˜ ì—†ëŠ” ë¬¸ì œ
- **í•´ê²°** : @Environment Property Wrapperë¥¼ ì‚¬ìš©í•˜ì—¬ ê° í™”ë©´ë§ˆë‹¤ Custom TabBarë¥¼ Hidden ì²˜ë¦¬


```swift
import SwiftUI

private struct TabBarHiddenKey: EnvironmentKey {
    static let defaultValue: Binding<Bool> = .constant(false)
}

extension EnvironmentValues {
    var isTabBarHidden: Binding<Bool> {
        get { self[TabBarHiddenKey.self] }
        set { self[TabBarHiddenKey.self] = newValue }
    }
}
```

```swift
struct ContentView: View {
    @State private var isTabBarHidden: Bool = false

    var body: some View {
        ZStack {
            switch selectedTab {
            case .main:
                NavigationView {
                    MorningPaperView()
                        .environment(\.isTabBarHidden, $isTabBarHidden)
                }
            .
            .
            . 
            }
        }
    }
}
```

```swift
// íƒ­ë°”ê°€ í•„ìš”ì—†ëŠ” ë·°ì—ì„œ onAppear, onDisappear ì‹œì ë§ˆë‹¤ í™˜ê²½ê°’ 
struct detailView: View {
    @Environment(\.isTabBarHidden) private var isTabBarHidden: Binding<Bool>
    var body: some View {
        VStack { ... }
            .onAppear { isTabBarHidden.wrappedValue = true }
            .onDisappear { isTabBarHidden.wrappedValue = false }
    }  
}
```

<br />

## íšŒê³ 
### Keep (ì¢‹ì•˜ë˜ ì )
- 


### Problem (ì•„ì‰¬ì› ë˜ ì )
- 

### Try (ì•ìœ¼ë¡œ ì‹œë„í•´ë³¼ ì )
- 